<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Price Verification | CC</title>
    <style>
        :root { --bg: #121212; --card: #1e1e1e; --accent: #2ecc71; --text: #ffffff; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; }
        .container { background: var(--card); width: 100%; max-width: 400px; border-radius: 24px; overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.6); border: 1px solid #333; }
        .img-slot { width: 100%; aspect-ratio: 2.5/3.5; background: #252525; display: flex; align-items: center; justify-content: center; color: #444; font-size: 12px; letter-spacing: 2px; }
        .content { padding: 25px; }
        .label { font-size: 10px; text-transform: uppercase; color: #888; letter-spacing: 1.5px; margin-bottom: 4px; font-weight: 700; }
        .title { font-size: 24px; margin: 0 0 15px 0; font-weight: 800; line-height: 1.1; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 25px; }
        .box { background: #2a2a2a; padding: 12px; border-radius: 12px; border: 1px solid #333; }
        .val { font-weight: 600; font-size: 14px; margin-top: 2px; }
        .price-box { background: var(--accent); padding: 25px; border-radius: 16px; text-align: center; color: #000; }
        .price-val { font-size: 48px; font-weight: 900; display: block; }
    </style>
</head>
<body>
    <div class="container">
        <div class="img-slot">OFFLINE MODE: NO IMAGE DATA</div>
        <div class="content">
            <div class="label">Product Name</div>
            <h1 id="ui-name" class="title">Syncing...</h1>
            <div class="grid">
                <div class="box"><div class="label">Number | Set</div><div id="ui-set" class="val">--</div></div>
                <div class="box"><div class="label">Grade | Condition</div><div id="ui-grade" class="val">--</div></div>
            </div>
            <div class="price-box">
                <div class="label" style="color: #064d26;">Asking Price</div>
                <span id="ui-price" class="price-val">--</span>
            </div>
            <div style="margin-top:20px; font-size: 10px; color: #555; text-align: center; text-transform: uppercase;">
                Verification ID: <span id="ui-id">--</span>
            </div>
        </div>
    </div>
    <script>
        const params = new URLSearchParams(window.location.search);
        const cardId = params.get('id');

        if (!cardId) {
            document.getElementById('ui-name').innerText = "Please Scan a Card";
        } else {
            fetch('card_data.json')
                .then(res => res.json())
                .then(data => {
                    const searchId = decodeURIComponent(cardId).trim();
                    const card = data.find(c => String(c['Unique Code']).trim() === searchId);
                    
                    if (card) {
                        document.getElementById('ui-name').innerText = card['Product Name'];
                        document.getElementById('ui-set').innerText = `#${card['Card Number']} | ${card['Set']}`;
                        document.getElementById('ui-grade').innerText = `${card['Grade']} | ${card['Card Condition']}`;
                        document.getElementById('ui-id').innerText = card['Unique Code'];
                        
                        const salesPrice = card['My Sales Price'];
                        const suggestedPrice = card['Suggested Selling Price (Fair Market)'];
                        const finalDisplay = (salesPrice && salesPrice !== "TBD") ? salesPrice : suggestedPrice;
                        
                        document.getElementById('ui-price').innerText = finalDisplay;
                    } else {
                        document.getElementById('ui-name').innerText = "Card Not Found";
                    }
                })
                .catch(err => {
                    document.getElementById('ui-name').innerText = "System Error";
                    console.error(err);
                });
        }
    </script>
</body>
</html>
